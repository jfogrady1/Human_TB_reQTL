## variant calling

## reference fasta
reference: '/home/workspace/jogrady/heQTL/data/ref_genome/GRCh38_full_analysis_set_plus_decoy_hla.fa'


## path location for the bam files
bam_path_0: '/home/workspace/jogrady/heQTL/work/RNA_seq/align/T0/'
bam_path_1: '/home/workspace/jogrady/heQTL/work/RNA_seq/align/T1/'
bam_path_2: '/home/workspace/jogrady/heQTL/work/RNA_seq/align/T2/'
bam_path_3: '/home/workspace/jogrady/heQTL/work/RNA_seq/align/T3/'
bam_path_4: '/home/workspace/jogrady/heQTL/work/RNA_seq/align/T4/'
bam_path_merged: '/home/workspace/jogrady/heQTL/work/RNA_seq/align/mergedfinal/'

## extra name scheme to get the actual bam file from the bam_path above.
## ideally this should just be '{sample}.bam' or something simple, but this allows complex handling
bam_name: '{sample}.bam'


# need to bind these onto the path of singularity to tell it that it can access the model etc
binding_paths:
  - '/home/workspace/jogrady/heQTL/work/'
  - '/home/workspace/jogrady/heQTL/data/'
  - '/home/workspace/jogrady/heQTL/config/'
  - '$TMPDIR'


## whatever you want the output folder to be named
Run_name_0: '/home/workspace/jogrady/heQTL/work/RNA_seq/variant_call/T0'
Run_name_1: '/home/workspace/jogrady/heQTL/work/RNA_seq/variant_call/T1'
Run_name_2: '/home/workspace/jogrady/heQTL/work/RNA_seq/variant_call/T2'
Run_name_3: '/home/workspace/jogrady/heQTL/work/RNA_seq/variant_call/T3'
Run_name_4: '/home/workspace/jogrady/heQTL/work/RNA_seq/variant_call/T4'
Run_merged: '/home/workspace/jogrady/heQTL/work/RNA_seq/variant_call/mergedcall'

## number of chunks to run make_examples on. More shards = more parallel.
shards: 15

## what regions do you want to run DeepVariant on. All is a catch-all for every contig.
regions:
  all: ~

## other regions examples if you want per-chromosome. Explicitly write out all the chromosomes as regions.
## regions:
##   1: 1
##   2: 2
##   3: 3

## can also pass bed files to be parsed, or a mix of bed files and contig names.
## regions:
##   autosomes: 'autosomes.bed'
##   sex: 'sex_chromosomes.bed'
##   MT: 'MT'


## DeepVariant model. Generally should use 'WGS' - here we are using RNA
model: 'RNA'
checkpoint: '/home/workspace/jogrady/heQTL/data/model/model.ckpt'

## Different GLnexus config files for merging. Can use a default option or specify a path with a yml file. (MUST BE YML NOT YAML).
GL_config:
  Unrevised: '/home/workspace/jogrady/heQTL/config/GL_DV_raw.yml'

# DeepVariant and GLnexus containers.
containers:
  DV: docker://google/deepvariant:1.5.0

## resources for each step of the pipeline.
resources:
  make_examples:
    mem_mb: 7500
    walltime: '4h'
  call_variants:
    threads: 16
    mem_mb: 750
    walltime: '24h'
  postprocess:
    mem_mb: 15000
    walltime: '4h'
  merge:
    threads: 6
    mem_mb: 7000
    walltime: '4:00'

## can pass a wildcard string to glob all the bam files from the bam_path directory. 
## here we had to fake the first string so the sample ID was only set to the second occurence of sample (see bam_name).
samples:
 SRR12609394: 'SRR12609394.bam'
 SRR12609405: 'SRR12609405.bam'
 SRR12609414: 'SRR12609414.bam'
 SRR12609425: 'SRR12609425.bam'
 SRR12609434: 'SRR12609434.bam'
 SRR12609449: 'SRR12609449.bam'
 SRR12609475: 'SRR12609475.bam'
 SRR12609489: 'SRR12609489.bam'
 SRR12609495: 'SRR12609495.bam'
 SRR12609506: 'SRR12609506.bam'
 SRR12609516: 'SRR12609516.bam'
 SRR12609526: 'SRR12609526.bam'
 SRR12609535: 'SRR12609535.bam'
 SRR12609546: 'SRR12609546.bam'
 SRR12609574: 'SRR12609574.bam'
 SRR12609595: 'SRR12609595.bam'
 SRR12609608: 'SRR12609608.bam'
 SRR12609626: 'SRR12609626.bam'
 SRR12609641: 'SRR12609641.bam'
 SRR12609651: 'SRR12609651.bam'
 SRR12609676: 'SRR12609676.bam'
 SRR12609687: 'SRR12609687.bam'
 SRR12609696: 'SRR12609696.bam'
 SRR12609770: 'SRR12609770.bam'
 SRR12609780: 'SRR12609780.bam'
 SRR12609800: 'SRR12609800.bam'
 SRR12609808: 'SRR12609808.bam'
 SRR12609817: 'SRR12609817.bam'
 SRR12609855: 'SRR12609855.bam'
 SRR12609875: 'SRR12609875.bam'
 SRR12609885: 'SRR12609885.bam'
 SRR12609897: 'SRR12609897.bam'
 SRR12609910: 'SRR12609910.bam'
 SRR12609922: 'SRR12609922.bam'
 SRR12609934: 'SRR12609934.bam'
 SRR12609974: 'SRR12609974.bam'
 SRR12609982: 'SRR12609982.bam'
 SRR12609994: 'SRR12609994.bam'
 SRR12610003: 'SRR12610003.bam'
 SRR12610014: 'SRR12610014.bam'
 SRR12610032: 'SRR12610032.bam'
 SRR12610053: 'SRR12610053.bam'
 SRR12610063: 'SRR12610063.bam'
 SRR12610071: 'SRR12610071.bam'
 SRR12610092: 'SRR12610092.bam'
 SRR12610115: 'SRR12610115.bam'
 SRR12610123: 'SRR12610123.bam'
 SRR12610148: 'SRR12610148.bam'
 
samples_1:
 SRR12609772: 'SRR12609772.bam'
 SRR12609781: 'SRR12609781.bam'
 SRR12609801: 'SRR12609801.bam'
 SRR12609809: 'SRR12609809.bam'
 SRR12609818: 'SRR12609818.bam'
 SRR12609395: 'SRR12609395.bam'
 SRR12609406: 'SRR12609406.bam'
 SRR12609415: 'SRR12609415.bam'
 SRR12609426: 'SRR12609426.bam'
 SRR12609435: 'SRR12609435.bam'
 SRR12609856: 'SRR12609856.bam'
 SRR12609450: 'SRR12609450.bam'
 SRR12609866: 'SRR12609866.bam'
 SRR12609476: 'SRR12609476.bam'
 SRR12609876: 'SRR12609876.bam'
 SRR12609886: 'SRR12609886.bam'
 SRR12609898: 'SRR12609898.bam'
 SRR12609911: 'SRR12609911.bam'
 SRR12609923: 'SRR12609923.bam'
 SRR12609935: 'SRR12609935.bam'
 SRR12609496: 'SRR12609496.bam'
 SRR12609507: 'SRR12609507.bam'
 SRR12609517: 'SRR12609517.bam'
 SRR12609527: 'SRR12609527.bam'
 SRR12609536: 'SRR12609536.bam'
 SRR12609547: 'SRR12609547.bam'
 SRR12609575: 'SRR12609575.bam'
 SRR12609975: 'SRR12609975.bam'
 SRR12609983: 'SRR12609983.bam'
 SRR12609995: 'SRR12609995.bam'
 SRR12610004: 'SRR12610004.bam'
 SRR12610015: 'SRR12610015.bam'
 SRR12610054: 'SRR12610054.bam'
 SRR12609596: 'SRR12609596.bam'
 SRR12609609: 'SRR12609609.bam'
 SRR12609627: 'SRR12609627.bam'
 SRR12609642: 'SRR12609642.bam'
 SRR12609677: 'SRR12609677.bam'
 SRR12610033: 'SRR12610033.bam'
 SRR12610064: 'SRR12610064.bam'
 SRR12610072: 'SRR12610072.bam'
 SRR12609652: 'SRR12609652.bam'
 SRR12610093: 'SRR12610093.bam'
 SRR12610116: 'SRR12610116.bam'
 SRR12610124: 'SRR12610124.bam'
 SRR12610149: 'SRR12610149.bam'
 SRR12609688: 'SRR12609688.bam'
 SRR12609697: 'SRR12609697.bam'

samples_2:
 SRR12609774: 'SRR12609774.bam'
 SRR12609783: 'SRR12609783.bam'
 SRR12609803: 'SRR12609803.bam'
 SRR12609812: 'SRR12609812.bam'
 SRR12609820: 'SRR12609820.bam'
 SRR12609397: 'SRR12609397.bam'
 SRR12609409: 'SRR12609409.bam'
 SRR12609418: 'SRR12609418.bam'
 SRR12609429: 'SRR12609429.bam'
 SRR12609438: 'SRR12609438.bam'
 SRR12609859: 'SRR12609859.bam'
 SRR12609453: 'SRR12609453.bam'
 SRR12609869: 'SRR12609869.bam'
 SRR12609480: 'SRR12609480.bam'
 SRR12609880: 'SRR12609880.bam'
 SRR12609890: 'SRR12609890.bam'
 SRR12609901: 'SRR12609901.bam'
 SRR12609914: 'SRR12609914.bam'
 SRR12609926: 'SRR12609926.bam'
 SRR12609938: 'SRR12609938.bam'
 SRR12609499: 'SRR12609499.bam'
 SRR12609509: 'SRR12609509.bam'
 SRR12609520: 'SRR12609520.bam'
 SRR12609530: 'SRR12609530.bam'
 SRR12609539: 'SRR12609539.bam'
 SRR12609550: 'SRR12609550.bam'
 SRR12609578: 'SRR12609578.bam'
 SRR12609978: 'SRR12609978.bam'
 SRR12609986: 'SRR12609986.bam'
 SRR12609998: 'SRR12609998.bam'
 SRR12610007: 'SRR12610007.bam'
 SRR12610018: 'SRR12610018.bam'
 SRR12610057: 'SRR12610057.bam'
 SRR12609599: 'SRR12609599.bam'
 SRR12609612: 'SRR12609612.bam'
 SRR12609629: 'SRR12609629.bam'
 SRR12609645: 'SRR12609645.bam'
 SRR12609680: 'SRR12609680.bam'
 SRR12610036: 'SRR12610036.bam'
 SRR12610066: 'SRR12610066.bam'
 SRR12610075: 'SRR12610075.bam'
 SRR12609655: 'SRR12609655.bam'
 SRR12610096: 'SRR12610096.bam'
 SRR12610119: 'SRR12610119.bam'
 SRR12610127: 'SRR12610127.bam'
 SRR12610152: 'SRR12610152.bam'
 SRR12609691: 'SRR12609691.bam'
 SRR12609700: 'SRR12609700.bam'
  
samples_3: 
 SRR12609775: 'SRR12609775.bam'
 SRR12609784: 'SRR12609784.bam'
 SRR12609804: 'SRR12609804.bam'
 SRR12609813: 'SRR12609813.bam'
 SRR12609821: 'SRR12609821.bam'
 SRR12609399: 'SRR12609399.bam'
 SRR12609411: 'SRR12609411.bam'
 SRR12609420: 'SRR12609420.bam'
 SRR12609431: 'SRR12609431.bam'
 SRR12609439: 'SRR12609439.bam'
 SRR12609861: 'SRR12609861.bam'
 SRR12609454: 'SRR12609454.bam'
 SRR12609871: 'SRR12609871.bam'
 SRR12609482: 'SRR12609482.bam'
 SRR12609882: 'SRR12609882.bam'
 SRR12609892: 'SRR12609892.bam'
 SRR12609903: 'SRR12609903.bam'
 SRR12609916: 'SRR12609916.bam'
 SRR12609928: 'SRR12609928.bam'
 SRR12609940: 'SRR12609940.bam'
 SRR12609501: 'SRR12609501.bam'
 SRR12609511: 'SRR12609511.bam'
 SRR12609522: 'SRR12609522.bam'
 SRR12609531: 'SRR12609531.bam'
 SRR12609541: 'SRR12609541.bam'
 SRR12609551: 'SRR12609551.bam'
 SRR12609580: 'SRR12609580.bam'
 SRR12609980: 'SRR12609980.bam'
 SRR12609988: 'SRR12609988.bam'
 SRR12610000: 'SRR12610000.bam'
 SRR12610009: 'SRR12610009.bam'
 SRR12610020: 'SRR12610020.bam'
 SRR12609587: 'SRR12609587.bam'
 SRR12609601: 'SRR12609601.bam'
 SRR12609614: 'SRR12609614.bam'
 SRR12609634: 'SRR12609634.bam'
 SRR12609647: 'SRR12609647.bam'
 SRR12610058: 'SRR12610058.bam'
 SRR12610037: 'SRR12610037.bam'
 SRR12610068: 'SRR12610068.bam'
 SRR12610077: 'SRR12610077.bam'
 SRR12609656: 'SRR12609656.bam'
 SRR12610098: 'SRR12610098.bam'
 SRR12610121: 'SRR12610121.bam'
 SRR12610129: 'SRR12610129.bam'
 SRR12609682: 'SRR12609682.bam'
 SRR12609693: 'SRR12609693.bam'
 SRR12609702: 'SRR12609702.bam'

samples_4:
 SRR12609776: 'SRR12609776.bam'
 SRR12609787: 'SRR12609787.bam'
 SRR12609805: 'SRR12609805.bam'
 SRR12609814: 'SRR12609814.bam'
 SRR12609822: 'SRR12609822.bam'
 SRR12609401: 'SRR12609401.bam'
 SRR12609412: 'SRR12609412.bam'
 SRR12609422: 'SRR12609422.bam'
 SRR12609433: 'SRR12609433.bam'
 SRR12609440: 'SRR12609440.bam'
 SRR12609863: 'SRR12609863.bam'
 SRR12609457: 'SRR12609457.bam'
 SRR12609872: 'SRR12609872.bam'
 SRR12609484: 'SRR12609484.bam'
 SRR12609883: 'SRR12609883.bam'
 SRR12609894: 'SRR12609894.bam'
 SRR12609905: 'SRR12609905.bam'
 SRR12609918: 'SRR12609918.bam'
 SRR12609930: 'SRR12609930.bam'
 SRR12609942: 'SRR12609942.bam'
 SRR12609503: 'SRR12609503.bam'
 SRR12609513: 'SRR12609513.bam'
 SRR12609523: 'SRR12609523.bam'
 SRR12609533: 'SRR12609533.bam'
 SRR12609543: 'SRR12609543.bam'
 SRR12609552: 'SRR12609552.bam'
 SRR12609581: 'SRR12609581.bam'
 SRR12609981: 'SRR12609981.bam'
 SRR12609990: 'SRR12609990.bam'
 SRR12610001: 'SRR12610001.bam'
 SRR12610011: 'SRR12610011.bam'
 SRR12610021: 'SRR12610021.bam'
 SRR12609589: 'SRR12609589.bam'
 SRR12609603: 'SRR12609603.bam'
 SRR12609616: 'SRR12609616.bam'
 SRR12609636: 'SRR12609636.bam'
 SRR12609649: 'SRR12609649.bam'
 SRR12610060: 'SRR12610060.bam'
 SRR12610038: 'SRR12610038.bam'
 SRR12610069: 'SRR12610069.bam'
 SRR12610079: 'SRR12610079.bam'
 SRR12609658: 'SRR12609658.bam'
 SRR12610101: 'SRR12610101.bam'
 SRR12610122: 'SRR12610122.bam'
 SRR12610131: 'SRR12610131.bam'
 SRR12609684: 'SRR12609684.bam'
 SRR12609694: 'SRR12609694.bam'
 SRR12609704: 'SRR12609704.bam'

samples_merged:
 P_1: 'P_1.bam'
 P_3: 'P_3.bam'
 P_13: 'P_13.bam'
 P_29: 'P_29.bam'
 P_36: 'P_36.bam'
 P_75: 'P_75.bam'
 P_76: 'P_76.bam'
 P_83: 'P_83.bam'
 P_84: 'P_84.bam'
 P_85: 'P_85.bam'
 P_87: 'P_87.bam'
 P_92: 'P_92.bam'
 P_99: 'P_99.bam'
 P_105: 'P_105.bam'
 P_117: 'P_117.bam'
 P_124: 'P_124.bam'
 P_127: 'P_127.bam'
 P_136: 'P_136.bam'
 P_137: 'P_137.bam'
 P_146: 'P_146.bam'
 P_157: 'P_157.bam'
 P_175: 'P_175.bam'
 P_176: 'P_176.bam'
 P_201: 'P_201.bam'
 P_203: 'P_203.bam'
 P_221: 'P_221.bam'
 P_227: 'P_227.bam'
 P_254: 'P_254.bam'
 P_256: 'P_256.bam'
 P_257: 'P_257.bam'
 P_258: 'P_258.bam'
 P_265: 'P_265.bam'
 P_266: 'P_266.bam'
 P_268: 'P_268.bam'
 P_278: 'P_278.bam'
 P_294: 'P_294.bam'
 P_297: 'P_297.bam'
 P_302: 'P_302.bam'
 P_327: 'P_327.bam'
 P_335: 'P_335.bam'
 P_348: 'P_348.bam'
 P_367: 'P_367.bam'
 P_371: 'P_371.bam'
 P_389: 'P_389.bam'
 P_395: 'P_395.bam'
 P_400: 'P_400.bam'
 P_432: 'P_432.bam'
 P_461: 'P_461.bam'
